#include "backend/c_runtime.c"

Value No_init();
Value Ponto_init();
Value Matematica_init();
Value Matematica_dobro();
Value Matematica_calcular();
Value No() {
  Value inst = new_object("No");
  set_attr(inst, "init", new_native(No_init));
  push(inst);
  No_init();
  return inst;
}

Value Ponto() {
  Value inst = new_object("Ponto");
  set_attr(inst, "init", new_native(Ponto_init));
  push(inst);
  Ponto_init();
  return inst;
}

Value Matematica() {
  Value inst = new_object("Matematica");
  set_attr(inst, "init", new_native(Matematica_init));
  set_attr(inst, "dobro", new_native(Matematica_dobro));
  set_attr(inst, "calcular", new_native(Matematica_calcular));
  push(inst);
  Matematica_init();
  return inst;
}

Value No_init() {
  Value this, valor_0;
  this = pop();
  valor_0 = pop();
  set_attr(this, "valor", valor_0);
  set_attr(this, "proximo", new_nil());
  return new_nil();
  return new_nil();
}

Value Ponto_init() {
  Value this, x_1, y_2;
  this = pop();
  x_1 = pop();
  y_2 = pop();
  set_attr(this, "x", x_1);
  set_attr(this, "y", y_2);
  return new_nil();
  return new_nil();
}

Value Matematica_init() {
  Value this;
  this = pop();
  set_attr(this, "pi", new_number(3.14));
  return new_nil();
  return new_nil();
}

Value Matematica_dobro() {
  Value this, n_3, t0;
  this = pop();
  n_3 = pop();
  t0 = op_mul(n_3, new_number(2.00));
  return t0;
  return new_nil();
  return new_nil();
}

Value Matematica_calcular() {
  Value this, raio_4, t1, t2, d_5, t3, t4, t5;
  this = pop();
  raio_4 = pop();
  t1 = get_attr(this, "dobro");
  push(raio_4);
  t2 = call_value(t1);
  d_5 = t2;
  t3 = op_add(new_string("Dobro do raio: "), d_5);
  print_value(t3);
  t4 = get_attr(this, "pi");
  t5 = op_mul(d_5, t4);
  return t5;
  return new_nil();
  return new_nil();
}

int main() {
  Value t6, n1_6, t7, n2_7, t8, n3_8, atual_9, t9, t10, t11, t12, t13, p_10, t14, t15, t16, t17, t18, t19, t20, m_11, t21, t22, areaAprox_12, t23;
  print_value(new_string("--- 1. Teste de Lista Encadeada (Objetos -> Objetos) ---"));
  push(new_number(10.00));
  t6 = No();
  n1_6 = t6;
  push(new_number(20.00));
  t7 = No();
  n2_7 = t7;
  push(new_number(30.00));
  t8 = No();
  n3_8 = t8;
  set_attr(n1_6, "proximo", n2_7);
  set_attr(n2_7, "proximo", n3_8);
  atual_9 = n1_6;
  L0:
  ;
  t9 = op_neq(atual_9, new_nil());
  if (!is_truthy(t9)) goto L1;
  t10 = get_attr(atual_9, "valor");
  t11 = op_add(new_string("Valor do No: "), t10);
  print_value(t11);
  t12 = get_attr(atual_9, "proximo");
  atual_9 = t12;
  goto L0;
  L1:
  ;
  print_value(new_string(""));
  print_value(new_string("--- 2. Teste de Campos Dinamicos ---"));
  push(new_number(2.00));
  push(new_number(3.00));
  t13 = Ponto();
  p_10 = t13;
  t14 = get_attr(p_10, "x");
  t15 = op_add(new_string("X original: "), t14);
  print_value(t15);
  set_attr(p_10, "z", new_number(50.00));
  t16 = get_attr(p_10, "z");
  t17 = op_add(new_string("Z (dinamico): "), t16);
  print_value(t17);
  set_attr(p_10, "x", new_number(99.00));
  t18 = get_attr(p_10, "x");
  t19 = op_add(new_string("X modificado: "), t18);
  print_value(t19);
  print_value(new_string(""));
  print_value(new_string("--- 3. Teste de Chamada Interna (this.metodo) ---"));
  t20 = Matematica();
  m_11 = t20;
  t21 = get_attr(m_11, "calcular");
  push(new_number(10.00));
  t22 = call_value(t21);
  areaAprox_12 = t22;
  t23 = op_add(new_string("Area aprox (2*r*pi): "), areaAprox_12);
  print_value(t23);
  print_value(new_string("--- Fim do Teste ---"));
  return 0;
}
